from lib.test import assert_eq, assert_true

markdown = import markdown

html1 = markdown.to_html("Hello, *world* and **Pua** with `x < y`.")
assert_eq(html1, "<p>Hello, <em>world</em> and <strong>Pua</strong> with <code>x &lt; y</code>.</p>")

md2 = [[Paragraph with <tag> & symbols.

```pua
print("x < y")
```
]]

html2 = markdown.to_html(md2)
expected2 = [[<p>Paragraph with &lt;tag&gt; &amp; symbols.</p>
<pre><code class="language-pua">print(&quot;x &lt; y&quot;)</code></pre>]]
assert_eq(html2, expected2)

md3 = [[```
a < b && c > d
]]
html3 = markdown.to_html(md3)
assert_true(html3 has "<pre><code>a &lt; b &amp;&amp; c &gt; d</code></pre>")

print "markdown ok"

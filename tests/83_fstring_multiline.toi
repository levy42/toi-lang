from lib.test import assert_eq

name = "Toi"
x = 3.14159

s1 = f[[Hello, {name}!
Line2 value={x|.2f}]]
assert_eq(s1, "Hello, Toi!\nLine2 value=3.14")

s2 = f[[A {1 + 2} B]]
assert_eq(s2, "A 3 B")

-- Ensure nested braces inside expression strings don't break interpolation scan.
s3 = f[[{ "{" + name + "}" }]]
assert_eq(s3, "{Toi}")

print "fstring multiline ok"

from lib.test import assert_eq

s = "hello"
i = 1
j = 5

assert_eq(s[1+1..4], "ell")
assert_eq(s[i+1..4], "ell")
assert_eq(s[i*2-1..j-1], "hell")

t = {10, 20, 30, 40, 50}
r1 = t[1+1..4]
assert_eq(#r1, 3)
assert_eq(r1[1], 20)
assert_eq(r1[2], 30)
assert_eq(r1[3], 40)

r2 = t[i+1..4]
assert_eq(#r2, 3)
assert_eq(r2[1], 20)
assert_eq(r2[2], 30)
assert_eq(r2[3], 40)

r3 = t[i*2-1..j-1]
assert_eq(#r3, 4)
assert_eq(r3[1], 10)
assert_eq(r3[2], 20)
assert_eq(r3[3], 30)
assert_eq(r3[4], 40)

print "slice expr bounds ok"

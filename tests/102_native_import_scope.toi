from lib.test import assert_eq, assert_true

mod = import tests.module_ctx.native_scope
assert_eq(mod.ok, true)

leaked_os = false
try
  _ = os
  leaked_os = true
except e
  assert_true(type(e) == "string")

leaked_io = false
try
  _ = io
  leaked_io = true
except e
  assert_true(type(e) == "string")

assert_true(not leaked_os)
assert_true(not leaked_io)

direct_os = import os
assert_eq(type(direct_os), "table")

print "native import scope ok"

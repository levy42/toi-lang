from lib.test import assert_true

words = {}
for word in "dfb dbrg gbdg gbrgbdgr rbergb".split()
  words <+ word

assert_true(#words == 5)
assert_true(words[1] == "dfb")
assert_true(words[5] == "rbergb")

-- Table comprehension should follow the same iterable prep rule.
comp = {w for w in "a b c".split()}
assert_true(#comp == 3)
assert_true(comp[1] == "a")
assert_true(comp[3] == "c")

print "for-in method call ok"

fn assert_eq(actual, expected)
  if actual != expected
    error("assert_eq failed")

flag = 0
try
  flag = 1
except e
  flag = 2
assert_eq(flag, 1)

try
  throw "boom"
except e
  assert_eq(e, "boom")

flag = 0
try
  flag = 1
finally
  flag = flag + 10
assert_eq(flag, 11)

flag = 0
try
  throw "boom2"
except e
  flag = 1
finally
  flag = flag + 10
assert_eq(flag, 11)

flag = 0
try
  try
    throw "boom3"
  finally
    flag = 1
except e
  assert_eq(e, "boom3")
  assert_eq(flag, 1)

flag = 0
try
  try
    throw "boom4"
  except e
    throw "boom5"
  finally
    flag = 1
except e
  assert_eq(e, "boom5")
  assert_eq(flag, 1)

from lib.test import assert_eq, assert_true

path = import path

assert_eq(path.join("a", "b"), "a/b")
assert_eq(path.join("a/", "b"), "a/b")
assert_eq(path.join("", "b"), "b")

parts = path.split("/a/b//c/")
assert_eq(#parts, 3)
assert_eq(parts[1], "a")
assert_eq(parts[2], "b")
assert_eq(parts[3], "c")

assert_eq(path.dirname("a/b/c.txt"), "a/b")
assert_eq(path.basename("a/b/c.txt"), "c.txt")
assert_eq(path.dirname("/a/b"), "/a")
assert_eq(path.basename("/a/b/"), "b")
assert_eq(path.dirname("/"), "/")
assert_eq(path.basename("/"), "/")

assert_true(path.is_abs("/x"))
assert_true(not path.is_abs("x/y"))
assert_eq(path.normalize("a//b///"), "a/b")
assert_eq(path.normalize("/a//b///"), "/a/b")
assert_eq(path.normalize("/"), "/")

print "path lib ok"

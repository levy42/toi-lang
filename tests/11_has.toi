from lib.test import assert_true

s = "hello world"
assert_true(s has "hello")
assert_true(s has "world")
assert_true(not (s has "nope"))
assert_true("hello" in s)
assert_true(not ("nope" in s))
assert_true("nope" not in s)

t = {1, 2, 3, a = 4, b = "x"}
assert_true(t has 2)
assert_true(t has 4)
assert_true(t has "x")
assert_true(not (t has 5))
assert_true(2 in t)
assert_true(4 in t)
assert_true("x" in t)
assert_true(5 not in t)

mt = {}
mt.__has = fn(self, value)
  return value == 42

o = {}
setmetatable(o, mt)
assert_true(o has 42)
assert_true(not (o has 1))
assert_true(42 in o)
assert_true(1 not in o)

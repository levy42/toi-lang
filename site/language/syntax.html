<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Language Syntax</title>
    <link rel="stylesheet" href="../docs.css">
    <link rel="icon" type="image/svg+xml" href="../logo.svg">
</head>
<body>
    <aside>
    <a class="brand" href="../README.html">
    <img class="brand-logo" src="../logo.svg" alt="Toi logo">
    <span>Toi Docs</span>
    </a>
    <ul class="nav"><li><a href="../README.html">Toi Documentation</a></li><li><a href="../getting-started.html">Getting Started</a></li><li><a href="../repl.html">REPL</a></li><li class="nav-collapsible"><details class="nav-group active" open><summary>Language</summary><ul class="subnav"><li><a href="../language/control-flow.html">Control Flow</a></li><li><a href="../language/functions.html">Functions</a></li><li><a href="../language/modules.html">Modules and Imports</a></li><li class="active"><a href="../language/syntax.html">Language Syntax</a></li><li><a href="../language/types-and-values.html">Types and Values</a></li></ul></details></li><li class="nav-collapsible"><details class="nav-group"><summary>Standard Library</summary><ul class="subnav"><li><a href="../stdlib/README.html">Standard Library</a></li><li><a href="../stdlib/binary.html">`binary` Module</a></li><li><a href="../stdlib/btree.html">`btree` Module</a></li><li><a href="../stdlib/core.html">Core Built-ins</a></li><li><a href="../stdlib/coroutine.html">`coroutine` Module</a></li><li><a href="../stdlib/dir.html">`dir` Module</a></li><li><a href="../stdlib/fnmatch.html">`fnmatch` Module</a></li><li><a href="../stdlib/glob.html">`glob` Module</a></li><li><a href="../stdlib/gzip.html">gzip (optional)</a></li><li><a href="../stdlib/http.html">`http` Module</a></li><li><a href="../stdlib/inspect.html">`inspect` Module</a></li><li><a href="../stdlib/io.html">`io` Module</a></li><li><a href="../stdlib/json.html">`json` Module</a></li><li><a href="../stdlib/math.html">`math` Module</a></li><li><a href="../stdlib/mmap.html">`mmap` Module</a></li><li><a href="../stdlib/os.html">`os` Module</a></li><li><a href="../stdlib/poll.html">`poll` Module</a></li><li><a href="../stdlib/regex.html">`regex` Module</a></li><li><a href="../stdlib/signal.html">`signal` Module</a></li><li><a href="../stdlib/socket.html">`socket` Module</a></li><li><a href="../stdlib/stat.html">`stat` Module</a></li><li><a href="../stdlib/string.html">`string` Module</a></li><li><a href="../stdlib/struct.html">`struct` Module</a></li><li><a href="../stdlib/table.html">`table` Module</a></li><li><a href="../stdlib/template.html">`template` Module</a></li><li><a href="../stdlib/thread.html">`thread` Module</a></li><li><a href="../stdlib/time.html">`time` Module</a></li><li><a href="../stdlib/toi-libraries.html">Toi Libraries (`lib/*.toi`)</a></li><li><a href="../stdlib/uuid.html">`uuid` Module</a></li></ul></details></li></ul>
    </aside>
    <main><h1 id="language-syntax">Language Syntax</h1>
<h2 id="lexical-basics">Lexical Basics</h2>
<ul>
<li>Statements are line-oriented.
</li>
<li>Blocks are indentation-based (<code>INDENT</code>/<code>DEDENT</code> tokens).
</li>
<li>Comments start with <code>--</code>.
</li>
<li>Strings support single quotes, double quotes, and multiline <code>[[...]]</code>.
</li>
<li>Formatted strings: <code>f&quot;...{expr}...&quot;</code>, with optional format spec: <code>{expr|.2f}</code>.
</li>
</ul>
<h2 id="literals">Literals</h2>
<ul>
<li><code>nil</code>, <code>true</code>, <code>false</code>
</li>
<li>Numbers (integer/float syntax)
</li>
<li>Strings
</li>
<li>Table literals: <code>{}</code>
</li>
</ul>
<p>Examples:</p>
<pre><code class="language-toi">n = <span color="yellow">42</span>
s = <span color="green">&quot;hello&quot;</span>
m = [[line <span color="yellow">1</span>
line <span color="yellow">2</span>]]
t = {<span color="yellow">1</span>, <span color="yellow">2</span>, a = <span color="yellow">3</span>}</code></pre>
<h2 id="operators">Operators</h2>
<p>Arithmetic:</p>
<ul>
<li><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>//</code>, <code>**</code>
</li>
</ul>
<p>Comparison:</p>
<ul>
<li><code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>
</li>
</ul>
<p>Logical:</p>
<ul>
<li><code>and</code>, <code>or</code>, <code>not</code>
</li>
</ul>
<p>Other:</p>
<ul>
<li>Ternary: <code>cond ? a : b</code>
</li>
<li>Range: <code>a..b</code>
</li>
<li>Contains: <code>has</code>
</li>
<li>Length: <code>#value</code>
</li>
<li>Append operator: <code>++</code>
</li>
</ul>
<h2 id="assignment">Assignment</h2>
<ul>
<li>Basic: <code>x = expr</code>
</li>
<li>Expression assignment (walrus): <code>x := expr</code>
</li>
<li>Multi-target: <code>a, b = expr1, expr2</code>
</li>
<li>Compound: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>
</li>
</ul>
<p>Walrus returns the assigned value, so it can be used inside larger expressions:</p>
<pre><code class="language-toi">v = (x <span color="magenta">:=</span> <span color="yellow">10</span>)
ok = (x <span color="magenta">:=</span> x + <span color="yellow">1</span>) &gt; <span color="yellow">10</span></code></pre>
<h2 id="tables">Tables</h2>
<p>Array-like + map-like hybrid:</p>
<pre><code class="language-toi">t = {<span color="yellow">10</span>, <span color="yellow">20</span>, name = <span color="green">&quot;toi&quot;</span>, [<span color="yellow">10</span>] = <span color="green">&quot;x&quot;</span>}
<span color="cyan">print</span> t[<span color="yellow">1</span>]
<span color="cyan">print</span> t.name
<span color="cyan">print</span> t[<span color="green">&quot;name&quot;</span>]</code></pre>
<h2 id="indexing-and-slicing">Indexing and Slicing</h2>
<ul>
<li>String and table indexing are supported.
</li>
<li>Negative indices are supported in some operations.
</li>
<li>Slice helper: <code>slice(value, start, stop, step=1)</code>.
</li>
<li>Slice syntax: <code>value[start..stop:step]</code>, plus short forms <code>[..stop]</code>, <code>[start..]</code>.
</li>
</ul>
<h2 id="strings-and-interpolation">Strings and Interpolation</h2>
<pre><code class="language-toi">name = <span color="green">&quot;Toi&quot;</span>
pi = <span color="yellow">3.14159</span>
s = f<span color="green">&quot;hello {name}, pi={pi|.2f}&quot;</span></code></pre>
<p><code>{expr|spec}</code> uses <code>string.format</code> semantics for <code>spec</code>.</p></main>
</body>
</html>
